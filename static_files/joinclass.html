<!DOCTYPE html>
<html>
<!-- 
	This page is a section where students can enter their class code, and checks to see if it exists. 
 -->
<head>
	<title>Art Museum Portal | Educator</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	 <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
	 <link rel="stylesheet" href="../css/pages.css">
	 <link rel="stylesheet" href="../css/joinclass.css">
	<script src="jquery-3.3.1.min.js"></script>
	<script type="text/javascript">
	$(document).ready(() => {
		//Checking of class code
		$('#joinnextbutton').click(() => {
			if($('#classcode').val().length == 6) {
				$.ajax({
				url: 'plans/code/' + $('#classcode').val().toUpperCase(),
				type: 'GET',
				dataType: 'json',
				success: (data) => {
					if(Object.keys(data).length == 0) {
						alert("Code not found!");
					}
					else {
						console.log(data);
						window.localStorage.setItem('code', $('#classcode').val().toUpperCase());
						window.location.href = "student-portal.html";
					}
					},
				});
			}
			else {
				alert("Please add a valid code!");
			}
		});
	});
	</script>
	
</head>

<body>

<div class="rectangleheader">
	<h1>Step 2: Join a Class</h1>
</div>

<div style="text-align: center">
	<h2 id="joinclassh2">Enter class code</h2>
	<p id="joinclassp">Enter the code given by your teacher to gain access to your portal and see your assigned exhibits.</p>

	<input maxlength="6" style="
	position: absolute;
	width: 338px;
	height: 95px;
	left: 15px;
	top: 310px;
	text-transform: uppercase;
	display: inline-block;
    border: none;
    padding: 0;
    width: 8.4ch;
    background: repeating-linear-gradient(90deg, dimgrey 0, dimgrey 1ch, transparent 0, transparent 1.4ch) 0 100%/ 8ch 2px no-repeat;
    font: 5ch droid sans mono, consolas, monospace;
    letter-spacing: 0.4ch;
  	focus {
		outline: none;
		color: dodgerblue;
  	}
	" id = "classcode"/>
	<br><br>
	<hr>
</div>

<button class="nextbutton" id="joinnextbutton">NEXT ></a>
</body>
</html>